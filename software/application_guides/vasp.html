

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>VASP (Vienna Ab initio Simulation Package) &mdash; Sigma2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/sigma2.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Sigma2/Metacenter documentation
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">News</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://opslog.sigma2.no">Latest changes and events</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/hardware-status">Hardware live status</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/support_line.html">Support line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/lost_forgotten_password.html">Lost or expiring password</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/project_leader_support.html">Project leader support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/advanced_user_support.html">Advanced User Support (AUS)</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/applying_account.html">How do I get an HPC account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/training.html">Training material</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/create_ssh_keys.html">SSH</a></li>
</ul>
<p class="caption"><span class="caption-text">Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../nird_archive/user-guide.html">Research data archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/easydmp-user-documentation.html">EasyDMP User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption"><span class="caption-text">High-performance computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hpc_machines/hardware_overview.html">Overview over our machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc_machines/betzy.html">Betzy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc_machines/fram.html">Fram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc_machines/saga.html">Saga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc_machines/migration2metacenter.html">Migration to a Metacenter HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jobs/overview.html">Job types and job scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_development/overview.html">Code development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../computing/tuning-applications.html">Tuning applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modulescheme.html">Software Module Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installed_software.html">Installed Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">Running Singularity and Docker containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appguides.html">Application guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licenses.html">Licenses and access policies</a></li>
</ul>
<p class="caption"><span class="caption-text">Files and Storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/nird.html">NIRD - National Infrastructure for Research Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/backup.html">Backup on Betzy, Fram, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../files_storage/performance.html">Storage performance tuning</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Sigma2/Metacenter documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>VASP (Vienna Ab initio Simulation Package)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/UNINETTSigma2/documentation/blob/master/software/application_guides/vasp.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vasp-vienna-ab-initio-simulation-package">
<h1>VASP (Vienna Ab initio Simulation Package)<a class="headerlink" href="#vasp-vienna-ab-initio-simulation-package" title="Permalink to this headline">¶</a></h1>
<p>VASP is a software package for performing ab-initio quantum-mechanical calculation of a periodic arrangement of atoms using the projector-augmented wave method and a plane wave basis set. The package can perform density-functional-theory (DFT) calculations, or many-body-perturbation-theory (MBPT) like GW etc. Please consult the documentation to get a more detailed overview of its feature set.</p>
<div class="section" id="online-information-from-vasp-developers">
<h2>Online information from VASP developers<a class="headerlink" href="#online-information-from-vasp-developers" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.vasp.at">Homepage</a></p></li>
<li><p><a class="reference external" href="https://cms.mpi.univie.ac.at/wiki/index.php/The_VASP_Manual">Documentation</a></p></li>
<li><p><a class="reference external" href="https://www.vasp.at/forum/">User forum</a></p></li>
</ul>
</div>
<div class="section" id="installed-on-facilities">
<h2>Installed on facilities<a class="headerlink" href="#installed-on-facilities" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Saga</p></li>
<li><p>Fram</p></li>
</ul>
</div>
<div class="section" id="supported-versions">
<h2>Supported versions<a class="headerlink" href="#supported-versions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>5.4.4</p></li>
<li><p>6.1 (not yet installed, ETA will be notified, we are pending updates from the VASP group pertaining to agreements to install/maintain it on our clusters, in essence the agreements of a cluster maintenance license)</p></li>
</ul>
</div>
<div class="section" id="license-and-access-policy">
<h2>License and access policy<a class="headerlink" href="#license-and-access-policy" title="Permalink to this headline">¶</a></h2>
<p>VASP is a commercial software package that requires a license for all who wants to use it. For a user to get access to the VASP executables installed on the Sigma2 systems they must perform the following steps:</p>
<ul class="simple">
<li><p>The users research group must have a valid VASP licence. To acquire a licence, please consult the <a class="reference external" href="https://www.vasp.at/faqs/">How can I purchase a VASP license?</a>.</p></li>
<li><p>We need to get a confirmation from a VASP representative to confirm that the user have access to the license. The group representative of the user needs to contact the VASP team using licensing&#64;vasp.at and ask them to send a confirmation email to <code class="docutils literal notranslate"><span class="pre">support&#64;metacenter.no</span></code> to confirm that the user have a valid license. It is very important that you communicate clearly to the VASP group that we want emails on this address.</p></li>
</ul>
<p>Once we receive the confirmation email we will add the user in question to the VASP group, which would give access to the VASP modules on the Sigma2 systems.</p>
<p>Notice that the VASP license is backwards compatible, meaning that if you are issues a VASP 6 license you also have access to VASP 5.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>You can check which VASP 5.4.4 versions are installed by executing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ module load VASPModules
$ module avail VASP
</pre></div>
</div>
<p>And load a particular module by executing (case sensitive):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ module load VASP/5.4.4-intel-2019a-std
</pre></div>
</div>
<p>Please remember to use two <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code>. The first loads the location of all the VASP modules and the second command loads the actual VASP module. It is also possible, if you know what module you want to execute::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ module load VASPModules VASP/5.4.4-intel-2019a-std
</pre></div>
</div>
<p>Users have to supply the necessary input files, including any <code class="docutils literal notranslate"><span class="pre">POTCAR</span></code> files needed. They can be downloaded from the VASP portal you get access to with a valid VASP license. Also, please note that the <code class="docutils literal notranslate"><span class="pre">POTCAR</span></code> files are protected by the license so do not share them with anyone that does not have a license, including the support team, unless explicitly notified to do so.</p>
<div class="section" id="module-naming-schemes">
<h3>Module naming schemes<a class="headerlink" href="#module-naming-schemes" title="Permalink to this headline">¶</a></h3>
<p>There are now one module per VASP version. Meaning when you now load a module, there is only one executable, <code class="docutils literal notranslate"><span class="pre">vasp</span></code>. In order to make it crystal clear to the users what versions of the additional packages have been used, the module names are unfortunately quite long. However, we hope this will at least give transparency and better facilitate reproducibility.</p>
<p>The naming schemes of the modules are <code class="docutils literal notranslate"><span class="pre">VASP</span> <span class="pre">version-Toolchain-Additional</span> <span class="pre">Packages-Adaptions</span> <span class="pre">to</span> <span class="pre">source</span> <span class="pre">code-VASP</span> <span class="pre">flavor</span></code>. Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VASP</span> <span class="pre">version</span></code> determines the VASP version, e.g. 5.4.4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Toolchain</span></code> determines the toolchain used, typically which compilers, LAPACK, BLAS etc. routines have been used. This is based on the existing toolchains on the system. These can be inspected with <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">show</span> <span class="pre">intel-2019a</span></code> for the particular system (e.g. <code class="docutils literal notranslate"><span class="pre">fram</span></code>). Typically, the <code class="docutils literal notranslate"><span class="pre">Toolchain</span></code> is the vendor, e.g. <code class="docutils literal notranslate"><span class="pre">intel</span></code> followed by the version, e.g. <code class="docutils literal notranslate"><span class="pre">2019a</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Packages</span></code> determines if an additional package has been included, e.g. <code class="docutils literal notranslate"><span class="pre">wannier90</span></code> (support for maximally-localised Wannier functions and the <a class="reference external" href="http://www.wannier.org/">Wannier90</a>), <code class="docutils literal notranslate"><span class="pre">beef</span></code> (to yield support for the <a class="reference external" href="https://github.com/vossjo/libbeef">BEEF</a> functional and Bayesian error estimates), <code class="docutils literal notranslate"><span class="pre">vtst</span></code> (to yield support for additional transition state tools <a class="reference external" href="https://theory.cm.utexas.edu/vtsttools/">VTST</a>) and <code class="docutils literal notranslate"><span class="pre">sol</span></code> (to yield support for solvation models using <a class="reference external" href="https://github.com/henniggroup/VASPsol">VASPsol</a>). Following the package name is the version of that specific package, e.g. <code class="docutils literal notranslate"><span class="pre">beef-0.1.1</span></code>, meaning the <code class="docutils literal notranslate"><span class="pre">beef</span></code> package is included using version <code class="docutils literal notranslate"><span class="pre">0.1.1</span></code>. For multiple packages and combination, the list continues.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Adaptions</span> <span class="pre">to</span> <span class="pre">source</span> <span class="pre">code</span></code> determines if there has been adaptions to the source code, e.g. restrictions in the ionic motions. For instance for <code class="docutils literal notranslate"><span class="pre">nor_x</span></code> the ionic motion/relaxation along the <code class="docutils literal notranslate"><span class="pre">x</span></code> (<code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> is the unit cell axis supplied to VASP) direction. It does not have any version following its label.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VASP</span> <span class="pre">flavor</span></code> determines the VASP flavor, e.g. <code class="docutils literal notranslate"><span class="pre">std</span></code> for the standard flavor (<code class="docutils literal notranslate"><span class="pre">-DNGZhalf</span></code> added to <code class="docutils literal notranslate"><span class="pre">FPP</span></code>), <code class="docutils literal notranslate"><span class="pre">gam</span></code> for the gamma flavor (<code class="docutils literal notranslate"><span class="pre">-DNGZhalf</span> <span class="pre">-DwNGZhalf</span></code> added to <code class="docutils literal notranslate"><span class="pre">FPP</span></code>) and <code class="docutils literal notranslate"><span class="pre">ncl</span></code> for the non-collinear flavor. As for the adaptions, no version is following these labels.</p></li>
</ul>
<p>i.e. for the example module <code class="docutils literal notranslate"><span class="pre">5.4.4-intel-2019a-beef-0.1.1-nor_x-gam</span></code>.</p>
</div>
<div class="section" id="further-notes-about-the-additional-packages-and-how-the-modules-have-been-constructed">
<h3>Further notes about the additional packages and how the modules have been constructed<a class="headerlink" href="#further-notes-about-the-additional-packages-and-how-the-modules-have-been-constructed" title="Permalink to this headline">¶</a></h3>
<p>Since <code class="docutils literal notranslate"><span class="pre">sol</span></code>, <code class="docutils literal notranslate"><span class="pre">beef</span></code> and <code class="docutils literal notranslate"><span class="pre">wannier90</span></code> does not modify the run-time behavior in any way (you have to enable special flags to enable its functionality, please consult the respective documentations), they are included for all the versions. <code class="docutils literal notranslate"><span class="pre">vtst</span></code> do however modify the original behavior of VASP for some cases and is thus included as a separate additional package.</p>
<p>The VTST scripts are available if you load a module with <code class="docutils literal notranslate"><span class="pre">vtst</span></code> and can be found in <code class="docutils literal notranslate"><span class="pre">$EBROOTVASP/vtst</span></code> after loading the VASP module containing <code class="docutils literal notranslate"><span class="pre">vtst</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">bee</span></code> executable from the BEEF library can be found in <code class="docutils literal notranslate"><span class="pre">$EBROOTBEEF/bin/bee</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">wannier90.x</span></code> and <code class="docutils literal notranslate"><span class="pre">postw90.x</span></code> executables of Wannier90 can be found in <code class="docutils literal notranslate"><span class="pre">$EBROOTWANNIER90/bin/wannier90.x</span></code> and <code class="docutils literal notranslate"><span class="pre">$EBROOTWANNIER90/bin/postw90.x</span></code>.</p>
</div>
<div class="section" id="patches">
<h3>Patches<a class="headerlink" href="#patches" title="Permalink to this headline">¶</a></h3>
<p>We try to upload new versions if the VASP group issues new official patches and the naming scheme above does not indicate which patch is used as that is implicitly assumed to be using the latest released patch.</p>
</div>
<div class="section" id="a-few-notes-and-special-modules">
<h3>A few notes and special modules<a class="headerlink" href="#a-few-notes-and-special-modules" title="Permalink to this headline">¶</a></h3>
<p>There are modules were <code class="docutils literal notranslate"><span class="pre">NMAX_DEG</span></code> (<code class="docutils literal notranslate"><span class="pre">ndegX</span></code>) is adjusted to <code class="docutils literal notranslate"><span class="pre">X=64,</span> <span class="pre">128</span> <span class="pre">and</span> <span class="pre">256</span></code> from the default value of 48. Since this is statically defined value, a special compile is necessary. If you get issues involving <code class="docutils literal notranslate"><span class="pre">NMAX_DEG</span></code>, please try a minimal working example using this executable and let us know if that solves your problem. Most likely you will encounter it again and we could try to compile an even larger value. However, also try to change your problem, like the symmetry and the representation you work in.</p>
</div>
<div class="section" id="parallel-functionality-and-library-support">
<h3>Parallel functionality and library support.<a class="headerlink" href="#parallel-functionality-and-library-support" title="Permalink to this headline">¶</a></h3>
<p>All VASP and Wannier90 binaries are compiled with Intel MPI support, if they support it. No OpenMP is enabled. For the binaries of the additional packages, no parallelization is available.</p>
</div>
<div class="section" id="memory-allocation-for-vasp">
<h3>Memory allocation for VASP<a class="headerlink" href="#memory-allocation-for-vasp" title="Permalink to this headline">¶</a></h3>
<p>VASP is known to be potentially memory demanding. Quite often, you might experience to use less than the full number of cores on the node, but still all of the memory.</p>
<p>For relevant core-count, node-count and amounts of memory, see <a class="reference external" href="https://documentation.sigma2.no/hpc_machines/fram.html">About Fram</a> and <a class="reference external" href="https://documentation.sigma2.no/hpc_machines/saga.html">About Saga</a>. There are two ways of increasing the memory pr. cpu over the standard node configuration:</p>
<ul class="simple">
<li><p>Increase the SLURM setting <code class="docutils literal notranslate"><span class="pre">mem-per-cpu</span></code></p></li>
<li><p>Utilize the nodes with more memory per cpu.</p></li>
</ul>
<p>Remember you are accounted for the CPUs that would be reserved due to your demand for increased memory.</p>
</div>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>When publishing results obtained with the software referred to, please do check your license agreement and the developers web page in order to find the correct citation(s). Also, remember to acknowledge Sigma2 for the computational resources.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Sigma2/Metacenter.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>